{
  "hash": "5e8061dee5954e3926fd0b3264206652",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ggplot Customization with National Park Visitation Data (Solution)\"\ndate: \"2024-02-26\"\ncategories: [ggplot, advanced, solution]\n\n#image: \"https://upload.wikimedia.org/wikipedia/commons/e/ed/US-Mexico_barrier_map.png\"\nformat: \n  html: default\n  ipynb: default\n  pdf: default\n  docx: default\ncode-overflow: wrap\ncode-fold: show\neditor: visual\ndf-print: kable\nR.options:\n  warn: false\ncode-tools: true\nexecute:\n  eval: true\n  message: false\n  warning: false\n---\n\n\n# <span style=\"color:red;\"> Solution </span>\n\n<a href=\"Ggplot-Customization-NP-Solutions.R\" download=\"Ggplot-Customization-NP-Solutions.R\">Download as R Script</a>  \n\n<span style=\"color:green;\"> [Exercise Without Solutions](Intro-to-DPLYR-NP.qmd) </span>\n\n## Load National Park Visitation data\n\n::: {.cell}\n\n```{.r .cell-code}\nnp_data <- read.csv(\"https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/1979-2022-National-Park-Visits-By-State.csv\",\n stringsAsFactors = FALSE)\n```\n:::\n\n\nView the np_data dataframe by clicking on the spreadsheet icon in the Global Environment\n\n## Load libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"dplyr\")\nlibrary(\"stringr\")\nlibrary(\"ggplot2\")\nlibrary(\"scales\")\n```\n:::\n\n\n- How have visits to a particular National Park changed over time?\n- What is the most interesting period of change?\n\n# Exercise 1\nFirst, filter the dataframe for a park of your choice. Then, pick a National Park that you haven't worked with yet, and filter the data for only that park.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_parks_df <- np_data %>% \n  filter(ParkName == \"Mount Rainier NP\")\n\nhead(my_parks_df)  \n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|ParkName         |Region       |State | Year| RecreationVisits|\n|:----------------|:------------|:-----|----:|----------------:|\n|Mount Rainier NP |Pacific West |WA    | 1979|          1516703|\n|Mount Rainier NP |Pacific West |WA    | 1980|          1268256|\n|Mount Rainier NP |Pacific West |WA    | 1981|          1233671|\n|Mount Rainier NP |Pacific West |WA    | 1982|          1007300|\n|Mount Rainier NP |Pacific West |WA    | 1983|          1106306|\n|Mount Rainier NP |Pacific West |WA    | 1984|          1152411|\n\n</div>\n:::\n:::\n\n\n# Exercise 2\n\nNow, make a line plot that shows the number of visits per year to that park from 1979 to 2022.  \n\n### 2a.\nChoose a color for the line.  \n\n### 2b.\nGive the plot a title that also functions as a kind of \"headline\" for the most interesting story of the plot.  \n\n### 2c.\nChange the x-axis ticks so that they increase 5 years at a time. \n\n### 2d.\nChange the y-axis tick labels so that they abbreviate millions to M and thousands to K.  \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(my_parks_df) +\n  geom_line(aes(\n    x = Year,\n    y = RecreationVisits\n  ),\n  color = \"green\") +\n  scale_x_continuous(\n    breaks = seq(from = 1980, to = 2020, by = 5),\n  ) +\n  scale_y_continuous(labels = label_number(scale_cut = cut_short_scale()),\n  limits = c(0, 2000000)) +\n  labs(title = \"Visits to Mt. Rainier Are Surprisingly Stable\")\n```\n\n::: {.cell-output-display}\n![](Ggplot-Customization-NP-Solutions_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Exercise 3\n\nNow, create a plot that zooms in on the most interesting time period for this particular National Park.  \n\n### 3a. \nChange the x-axis limits so that it only shows the most interesting years.\n\n### 3b. \nCome up with a new title that describes this time period. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(my_parks_df) +\n  geom_line(aes(\n    x = Year,\n    y = RecreationVisits\n  ),\n  color = \"green\") +\n  scale_x_continuous(\n    breaks = seq(from = 1980, to = 2020, by = 5), \n    limits = c(2005, 2023),\n  ) +\n  scale_y_continuous(labels = label_number(scale_cut = cut_short_scale()),\n   limits = c(0, 2000000)) +\n  labs(title = \"After a COVID Dip, Mt. Rainier Visits Are Higher Than Ever\")\n```\n\n::: {.cell-output-display}\n![](Ggplot-Customization-NP-Solutions_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Ggplot-Customization-NP-Solutions_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}